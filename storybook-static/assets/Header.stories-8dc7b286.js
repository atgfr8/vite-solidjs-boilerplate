import"./Button-0c08c8c5.js";import{d as v,e as k,f as ae,g,h as se,j as X,u as O,k as G,l as N,n as Q,p as oe,s as ce,q as ie,v as ue,a as $,m as W,w as le,x as fe,t as I,i as z,y as he}from"./store-c1f4b596.js";function de(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function ge([e,t],r,a){return[r?()=>r(e()):e,a?n=>t(a(n)):t]}function me(e){try{return document.querySelector(e)}catch{return null}}function pe(e,t){const r=me(`#${e}`);r?r.scrollIntoView():t&&window.scrollTo(0,0)}function we(e,t,r,a){let n=!1;const i=o=>typeof o=="string"?{value:o}:o,s=ge(v(i(e()),{equals:(o,f)=>o.value===f.value}),void 0,o=>(!n&&t(o),o));return r&&k(r((o=e())=>{n=!0,s[1](i(o)),n=!1})),{signal:s,utils:a}}function ve(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:v({value:""})};return e}function ye(){return we(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:r,state:a})=>{t?window.history.replaceState(a,"",e):window.history.pushState(a,"",e),pe(window.location.hash.slice(1),r)},e=>de(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}function be(){let e=new Set;function t(n){return e.add(n),()=>e.delete(n)}let r=!1;function a(n,i){if(r)return!(r=!1);const s={to:n,options:i,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const o of e)o.listener({...s,from:o.location,retry:f=>{f&&(r=!0),o.navigate(n,i)}});return!s.defaultPrevented}return{subscribe:t,confirm:a}}const Pe=/^(?:[a-z0-9]+:)?\/\//i,Re=/^\/+|(\/)\/+$/g;function C(e,t=!1){const r=e.replace(Re,"$1");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function E(e,t,r){if(Pe.test(t))return;const a=C(e),n=r&&C(r);let i="";return!n||t.startsWith("/")?i=a:n.toLowerCase().indexOf(a.toLowerCase())!==0?i=a+n:i=n,(i||"/")+C(t,!i)}function Ce(e,t){if(e==null)throw new Error(t);return e}function Le(e){const t={};return e.searchParams.forEach((r,a)=>{t[a]=r}),t}function Se(e){const t=new Map,r=se();return new Proxy({},{get(a,n){return t.has(n)||ae(r,()=>t.set(n,g(()=>e()[n]))),t.get(n)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}const $e=100,V=X(),Y=X(),H=()=>Ce(O(V),"Make sure your app is wrapped in a <Router />");let A;const _e=()=>A||O(Y)||H().base,xe=e=>{const t=_e();return g(()=>t.resolvePath(e()))},Ee=e=>{const t=H();return g(()=>{const r=e();return r!==void 0?t.renderPath(r):r})},Ae=()=>H().location;function ke(e,t){const r=new URL("http://sar"),a=g(f=>{const d=e();try{return new URL(d,r)}catch{return console.error(`Invalid path ${d}`),f}},r,{equals:(f,d)=>f.href===d.href}),n=g(()=>a().pathname),i=g(()=>a().search,!0),s=g(()=>a().hash),o=g(()=>"");return{get pathname(){return n()},get search(){return i()},get hash(){return s()},get state(){return t()},get key(){return o()},query:Se(oe(i,()=>Le(a())))}}function Oe(e,t="",r,a){const{signal:[n,i],utils:s={}}=ve(e),o=s.parsePath||(u=>u),f=s.renderPath||(u=>u),d=s.beforeLeave||be(),l=E("",t),ee=void 0;if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!n().value&&i({value:l,replace:!0,scroll:!1});const[te,T]=v(!1),q=async u=>{T(!0);try{await ce(u)}finally{T(!1)}},[_,K]=v(n().value),[x,U]=v(n().state),j=ke(_,x),y=[],w={pattern:l,params:{},path:()=>l,outlet:()=>null,resolvePath(u){return E(l,u)}};if(r)try{A=w,w.data=r({data:void 0,params:{},location:j,navigate:D(w)})}finally{A=void 0}function M(u,c,h){N(()=>{if(typeof c=="number"){c&&(s.go?d.confirm(c,h)&&s.go(c):console.warn("Router integration does not support relative routing"));return}const{replace:L,resolve:S,scroll:m,state:b}={replace:!1,resolve:!0,scroll:!0,...h},p=S?u.resolvePath(c):E("",c);if(p===void 0)throw new Error(`Path '${c}' is not a routable path`);if(y.length>=$e)throw new Error("Too many redirects");const P=_();if((p!==P||b!==x())&&!ie){if(d.confirm(p,h)){const ne=y.push({value:P,replace:L,scroll:m,state:x()});q(()=>{K(p),U(b),ue()}).then(()=>{y.length===ne&&re({value:p,state:b})})}}})}function D(u){return u=u||O(Y)||w,(c,h)=>M(u,c,h)}function re(u){const c=y[0];c&&((u.value!==c.value||u.state!==c.state)&&i({...u,replace:c.replace,scroll:c.scroll}),y.length=0)}G(()=>{const{value:u,state:c}=n();N(()=>{u!==_()&&q(()=>{K(u),U(c)})})});{let u=function(c){if(c.defaultPrevented||c.button!==0||c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)return;const h=c.composedPath().find(P=>P instanceof Node&&P.nodeName.toUpperCase()==="A");if(!h||!h.hasAttribute("link"))return;const L=h.href;if(h.target||!L&&!h.hasAttribute("state"))return;const S=(h.getAttribute("rel")||"").split(/\s+/);if(h.hasAttribute("download")||S&&S.includes("external"))return;const m=new URL(L);if(m.origin!==window.location.origin||l&&m.pathname&&!m.pathname.toLowerCase().startsWith(l.toLowerCase()))return;const b=o(m.pathname+m.search+m.hash),p=h.getAttribute("state");c.preventDefault(),M(w,b,{resolve:!1,replace:h.hasAttribute("replace"),scroll:!h.hasAttribute("noscroll"),state:p&&JSON.parse(p)})};Q(["click"]),document.addEventListener("click",u),k(()=>document.removeEventListener("click",u))}return{base:w,out:ee,location:j,isRouting:te,renderPath:f,parsePath:o,navigatorFactory:D,beforeLeave:d}}const Ie=I("<a link>"),He=e=>{const{source:t,url:r,base:a,data:n,out:i}=e,s=t||ye(),o=Oe(s,a,n);return $(V.Provider,{value:o,get children(){return e.children}})};function Te(e){e=W({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=le(e,["href","state","class","activeClass","inactiveClass","end"]),r=xe(()=>e.href),a=Ee(r),n=Ae(),i=g(()=>{const s=r();if(s===void 0)return!1;const o=C(s.split(/[?#]/,1)[0]).toLowerCase(),f=C(n.pathname).toLowerCase();return e.end?o===f:f.startsWith(o)});return(()=>{const s=Ie();return fe(s,W(t,{get href(){return a()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!i(),[e.activeClass]:i(),...t.classList}},get"aria-current"(){return i()?"page":void 0}}),!1,!1),s})()}const qe=""+new URL("atgLogo-370dc85f.png",import.meta.url).href,Ke=I("<header style=background-color:#333;color:white;padding:1rem;><div style=display:flex;justify-content:space-between;align-items:center;><nav></nav><div><input type=text placeholder=Search...><button>Search"),Ue=I("<img alt=Logo style=height:50px;>"),je=({links:e})=>{const[t,r]=v(""),a=()=>{t()&&(`${t()}`,void 0)};return k(()=>{}),(()=>{const n=Ke(),i=n.firstChild,s=i.firstChild,o=s.nextSibling,f=o.firstChild,d=f.nextSibling;return z(i,(()=>{const l=Ue();return he(l,"src",qe),l})(),s),z(s,()=>e.map(l=>$(Te,{get href(){return l.path},style:"margin: 0 1rem; color: white",get children(){return l.name}}))),f.$$input=l=>r(l.target.value),d.$$click=a,G(()=>f.value=t()),n})()},Z=je;Q(["input","click"]);const We={title:"Components/Header",component:Z},Me=e=>$(He,{get children(){return $(Z,e)}}),R=Me.bind({});R.args={links:[{path:"/",name:"Home"},{path:"/users",name:"Users"}]};var B,F,J;R.parameters={...R.parameters,docs:{...(B=R.parameters)==null?void 0:B.docs,source:{originalSource:`args => {
  return <Router>
      <Header {...args} />
    </Router>;
}`,...(J=(F=R.parameters)==null?void 0:F.docs)==null?void 0:J.source}}};const ze=["Primary"];export{R as Primary,ze as __namedExportsOrder,We as default};
//# sourceMappingURL=Header.stories-8dc7b286.js.map
