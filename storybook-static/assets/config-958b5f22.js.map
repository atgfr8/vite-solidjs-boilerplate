{"version":3,"file":"config-958b5f22.js","sources":["../../node_modules/storybook-solidjs/dist/chunk-6VA2C2EE.mjs","../../node_modules/storybook-solidjs/dist/config.mjs"],"sourcesContent":["// src/render.tsx\nimport { createComponent as _$createComponent } from \"solid-js/web\";\nimport { mergeProps as _$mergeProps } from \"solid-js/web\";\nimport { ErrorBoundary, onMount } from \"solid-js\";\nimport { createStore, reconcile } from \"solid-js/store\";\nimport { render as solidRender } from \"solid-js/web\";\nvar [store, setStore] = createStore({});\nvar delay = async (ms = 20) => {\n  await new Promise((resolve) => setTimeout(resolve, ms));\n};\nvar globals;\nvar componentId;\nvar viewMode;\nvar remount = (force, context) => {\n  let flag = false;\n  if (viewMode !== context.viewMode)\n    flag = true;\n  if (force)\n    flag = true;\n  if (!Object.is(globals, context.globals))\n    flag = true;\n  if (componentId !== context.componentId) {\n    flag = true;\n    unmountAll();\n  }\n  if (flag === true) {\n    viewMode = context.viewMode;\n    globals = context.globals;\n    componentId = context.componentId;\n  }\n  return flag;\n};\nvar solidReactivityDecorator = (storyFn, context) => {\n  let storyId = context.canvasElement.id;\n  context.args = store[storyId].args;\n  return storyFn(context.args, context);\n};\nvar render = (_, context) => {\n  const {\n    id,\n    component: Component\n  } = context;\n  if (!Component) {\n    throw new Error(`Unable to render story ${id} as the component annotation is missing from the default export`);\n  }\n  return _$createComponent(Component, _$mergeProps(() => context.args));\n};\nvar disposeAllStories = () => {\n  Object.keys(store).forEach((storyId) => {\n    store[storyId]?.disposeFn?.();\n  });\n};\nvar cleanStore = () => {\n  setStore(reconcile({}));\n};\nvar unmountAll = () => {\n  disposeAllStories();\n  cleanStore();\n};\nvar cleanStoryStore = (storeId) => {\n  setStore({\n    [storeId]: {\n      args: {},\n      rendered: false,\n      disposeFn: () => {\n      }\n    }\n  });\n};\nvar disposeStory = (storeId) => {\n  store[storeId]?.disposeFn?.();\n};\nvar remountStory = (storyId) => {\n  disposeStory(storyId);\n  cleanStoryStore(storyId);\n};\nvar storyIsRendered = (storyId) => Boolean(store[storyId]?.rendered);\nvar isDocsMode = (context) => context.viewMode === \"docs\";\nvar renderSolidApp = (storyId, renderContext, canvasElement) => {\n  const {\n    storyContext,\n    unboundStoryFn,\n    showMain,\n    showException\n  } = renderContext;\n  setStore(storyId, \"rendered\", true);\n  const App = () => {\n    const Story = unboundStoryFn;\n    onMount(() => {\n      showMain();\n    });\n    return _$createComponent(ErrorBoundary, {\n      fallback: (err) => {\n        showException(err);\n        return err;\n      },\n      get children() {\n        return _$createComponent(Story, storyContext);\n      }\n    });\n  };\n  return solidRender(() => _$createComponent(App, {}), canvasElement);\n};\nasync function renderToCanvas(renderContext, canvasElement) {\n  const {\n    storyContext\n  } = renderContext;\n  let forceRemount = renderContext.forceRemount;\n  let storyId = storyContext.canvasElement.id;\n  if (viewMode === void 0)\n    viewMode = storyContext.viewMode;\n  if (globals === void 0)\n    globals = storyContext.globals;\n  if (componentId === void 0)\n    componentId = storyContext.componentId;\n  if (remount(forceRemount, storyContext)) {\n    remountStory(storyId);\n  }\n  setStore(storyId, \"args\", storyContext.args);\n  if (storyIsRendered(storyId) === false) {\n    if (isDocsMode(storyContext))\n      await delay();\n    const disposeFn = renderSolidApp(storyId, renderContext, canvasElement);\n    setStore(storyId, (prev) => ({\n      ...prev,\n      disposeFn\n    }));\n  }\n}\n\nexport {\n  solidReactivityDecorator,\n  render,\n  renderToCanvas\n};\n","import {\n  render,\n  renderToCanvas,\n  solidReactivityDecorator\n} from \"./chunk-6VA2C2EE.mjs\";\n\n// src/docs/config.ts\nimport {\n  extractComponentDescription,\n  enhanceArgTypes\n} from \"@storybook/docs-tools\";\n\n// src/docs/jsxDecorator.tsx\nvar jsxDecorator = (storyFn, _) => {\n  const story = storyFn();\n  return story;\n};\n\n// src/docs/config.ts\nvar decorators = [jsxDecorator];\nvar parameters = {\n  docs: {\n    story: { inline: true },\n    extractComponentDescription\n  }\n};\nvar argTypesEnhancers = [enhanceArgTypes];\n\n// src/decorators.ts\nvar allDecorators = [solidReactivityDecorator, ...decorators];\nvar applyDecorators = (storyFn, decorators2) => {\n  return decorators2.reduce(\n    (decoratedStoryFn, decorator) => (context) => {\n      return decorator(() => decoratedStoryFn(context), context);\n    },\n    (context) => storyFn(context)\n  );\n};\n\n// src/config.ts\nvar parameters2 = { renderer: \"solid\", ...parameters };\nexport {\n  applyDecorators,\n  argTypesEnhancers,\n  allDecorators as decorators,\n  parameters2 as parameters,\n  render,\n  renderToCanvas\n};\n"],"names":["store","setStore","createStore","delay","ms","resolve","globals","componentId","viewMode","remount","force","context","flag","unmountAll","solidReactivityDecorator","storyFn","storyId","render","_","id","Component","_$createComponent","_$mergeProps","disposeAllStories","_b","_a","cleanStore","reconcile","cleanStoryStore","storeId","disposeStory","remountStory","storyIsRendered","isDocsMode","renderSolidApp","renderContext","canvasElement","storyContext","unboundStoryFn","showMain","showException","App","Story","onMount","ErrorBoundary","err","solidRender","renderToCanvas","forceRemount","disposeFn","prev","jsxDecorator","decorators","parameters","extractComponentDescription","argTypesEnhancers","enhanceArgTypes","allDecorators","applyDecorators","decorators2","decoratedStoryFn","decorator","parameters2"],"mappings":"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","x_google_ignoreList":[0,1]}